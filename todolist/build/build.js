!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){let n={init:function(){"lastTodoItemIndex"in localStorage||localStorage.setItem("lastTodoItemIndex","0")},getAllItems:function*(){for(key in localStorage)"0"<=key[0]&&key[0]<="9"&&(yield[key,localStorage.getItem(key)])},clearAll:function(){localStorage.clear(),localStorage.setItem("lastTodoItemIndex","0")},addItem:function(e,t){localStorage.setItem(e,t+","+TODO)},doneItem:function(e){let t=localStorage.getItem(e).slice(0,-1)+DONE;localStorage.setItem(e,t)},removeItem:function(e){localStorage.removeItem(e)},getNewIndex:function(){let e=localStorage.getItem("lastTodoItemIndex");return localStorage.setItem("lastTodoItemIndex",++e),e},TODO:0,DONE:1};e.exports={model:n}},function(e,t,n){n(0).model.init(),n(2).view.init()},function(e,t,n){let o={init:function(){for(it of(btnSubmit=document.getElementById("todosubmit-id"),btnClear=document.getElementById("todoclear-id"),textfield=document.getElementById("todoinput-id"),todolist=document.getElementById("todolist-id"),presenter.getAllItems())){let e=this.createItem(it[0],it[1],it[2]);todolist.appendChild(e)}btnSubmit.addEventListener("click",onSubmit),btnClear.addEventListener("click",onClear)},onSubmit:function(){let e=textfield.value;if(!e)return;let t=presenter.getNewId(),n=this.createItem(t,e,"todo");todolist.appendChild(n),textfield.value="",presenter.addItem(t,e)},onClear:function(){todolist.innerHTML="",presenter.clearAll()},onDone:function(e){e.className="doneitem",presenter.doneItem(this.toInt(e.id))},onRemove:function(e){e.parentNode.removeChild(e),presenter.removeItem(toInt(e.id))},createButton:function(e,t){let n=document.createElement("button");return n.id="todo"+t+e+"-id",n.className="todobtn",n.innerText=t,n},createItem:function(e,t,n){let o=document.createElement("li");o.className="todo"==n?"todoitem":"doneitem",o.id="todoitem"+e+"-id",o.innerText=t;let l=this.createButton(e,"done"),r=this.createButton(e,"remove");return o.appendChild(l),o.appendChild(r),l.addEventListener("click",function(){this.onDone(o)}),r.addEventListener("click",function(){this.onRemove(o)}),o},toInt:function(e){return parseInt(e.slice(8))},presenter:n(3).presenter,btnSubmit:null,btnClear:null,textfield:null,todolist:null};e.exports={view:o}},function(e,t,n){let o={addItem:function(e,t){l.addItem(e,t)},doneItem:function(e){l.doneItem(e)},removeItem:function(e){l.removeItem(e)},getAllItems:function*(){for(let e of l.getAllItems()){let t=e[0],[n,o]=e[1].split(",");yield[t,n,o=o==l.TODO?"todo":"done"]}},clearAll:function(){l.clearAll()},getNewId:function(){return l.getNewIndex()}},l=n(0).model;e.exports={presenter:o}}]);