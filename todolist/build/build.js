!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){let n=o(1);n.init();let i=window.document.querySelector("#list-node1");n.addList(i,"todolist1-id");let r=window.document.querySelector("#list-node2");n.addList(r,"todolist2-id")},function(t,e,o){let n=o(2);t.exports={init:function(){n.init()},addList:function(t,e){n.addList(t,e)}}},function(t,e,o){const n=o(3),i=o(4);function r(t){n.removeList(t)}function l(t,e){n.addItem(t,e)}function a(t,e){n.doneItem(t,e)}function s(t,e){n.removeItem(t,e)}function d(t){n.clearList(t)}t.exports={init:function(){n.init(),i.init({onClearListCallback:d,onRemoveListCallback:r,onSubmitCallback:l,onDoneItemCallback:a,onRemoveItemCallback:s})},addList:function(t,e){let o=n.getList(e);for(let t=0;t<o.length;++t)o[t].type==n.TODO?o[t].type=i.TODO:o[t].type=i.DONE;i.addList(t,e,o)}}},function(t,e){const o="0",n="1";t.exports={init:function(){"todoLists"in window.localStorage||window.localStorage.setItem("todoLists","{}")},getList:function(t){let e=JSON.parse(window.localStorage.getItem("todoLists"));return t in e?e[t]:(e[t]=[],window.localStorage.setItem("todoLists",JSON.stringify(e)),[])},removeList:function(t){let e=JSON.parse(window.localStorage.getItem("todoLists"));delete e[t],window.localStorage.setItem("todoLists",JSON.stringify(e))},clearList:function(t){let e=JSON.parse(window.localStorage.getItem("todoLists"));e[t]=[],window.localStorage.setItem("todoLists",JSON.stringify(e))},addItem:function(t,e){let n=JSON.parse(window.localStorage.getItem("todoLists"));n[t].push({text:e,type:o}),window.localStorage.setItem("todoLists",JSON.stringify(n))},doneItem:function(t,e){let o=JSON.parse(window.localStorage.getItem("todoLists"));o[t][e].type=n,window.localStorage.setItem("todoLists",JSON.stringify(o))},removeItem:function(t,e){let o=JSON.parse(window.localStorage.getItem("todoLists"));o[t].splice(e,1),window.localStorage.setItem("todoLists",JSON.stringify(o))},TODO:o,DONE:n}},function(t,e,o){const n="todo",i="done";let r=()=>void 0,l=()=>void 0,a=()=>void 0,s=()=>void 0,d=()=>void 0;const c=o(5).Delegate;function u(t,e,o){let n=window.document.querySelector("#todoitem-tmpl"),r=window.document.importNode(n.content,!0).querySelector("li");r.setAttribute("itemIndex",t),r.className="todoitem";let l=r.querySelector("span");return l.innerHTML=e,o==i&&(l.className="donefont"),r}function f(t,e){let o=e.parentNode.parentNode,i=o.querySelector("div").querySelector("input"),l=i.value;if(!l)return;let a=o.querySelector("ol"),s=u(a.querySelectorAll("li").length,l,n);a.appendChild(s),i.value="";let d=o.id;r(d,l)}function p(t,e){let o=e.parentNode.parentNode;o.querySelector("ol").innerHTML="",l(o.id)}function m(t,e){let o=e.parentNode.parentNode;o.parentNode.removeChild(o),a(o.id)}function h(t,e){let o=e.parentNode;o.querySelector("span").className="donefont";let n=o.parentNode.parentNode;s(n.id,o.getAttribute("itemIndex"))}function w(t,e){let o=e.parentNode,n=o.parentNode,i=+o.getAttribute("itemIndex"),r=o.nextSibling;for(;null!==r;)r.setAttribute("itemIndex",i++),r=r.nextSibling;n.removeChild(o);let l=n.parentNode;d(l.id,i)}t.exports={init:function(t){l=t.onClearListCallback,a=t.onRemoveListCallback,r=t.onSubmitCallback,s=t.onDoneItemCallback,d=t.onRemoveItemCallback,new c(window.document.body).on("click",'div[data-input-name="remove-list-button"]',m),new c(window.document.body).on("click",'button[data-input-name="clear-list-button"]',p),new c(window.document.body).on("click",'button[data-input-name="submit-button"]',f),new c(window.document.body).on("keypress",'input[data-input-name="submit-field"]',function(t,e){13===(t.which||t.keyCode)&&f(0,e)}),new c(window.document.body).on("click",'button[data-input-name="done-item-button"]',h),new c(window.document.body).on("click",'button[data-input-name="remove-item-button"]',w)},addList:function(t,e,o){let n=window.document.querySelector("#todolist-tmpl"),i=window.document.importNode(n.content,!0).querySelector("div");i.id=e;let r=i.querySelector("div"),l=i.querySelector("ol");r.querySelector("input");for(let t=0;t<o.length;++t){let e=u(t,o[t].text,o[t].type);l.appendChild(e)}t.appendChild(i)},TODO:n,DONE:i}},function(t,e,o){"use strict";
/**
 * @preserve Create and manage a DOM event delegator.
 *
 * @version 0.3.0
 * @codingstandard ftlabs-jsv2
 * @copyright The Financial Times Limited [All Rights Reserved]
 * @license MIT License (see LICENSE.txt)
 */var n=o(6);t.exports=function(t){return new n(t)},t.exports.Delegate=n},function(t,e,o){"use strict";function n(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=n.prototype.handle.bind(this)}t.exports=n,n.prototype.root=function(t){var e,o=this.listenerMap;if(this.rootElement){for(e in o[1])o[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in o[0])o[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;for(e in this.rootElement=t,o[1])o[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in o[0])o[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},n.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},n.prototype.on=function(t,e,o,n){var a,s,d,c;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(n=o,o=e,e=null),void 0===n&&(n=this.captureForType(t)),"function"!=typeof o)throw new TypeError("Handler must be a type of Function");return a=this.rootElement,(s=this.listenerMap[n?1:0])[t]||(a&&a.addEventListener(t,this.handle,n),s[t]=[]),e?/^[a-z]+$/i.test(e)?(c=e,d=r):/^#[a-z0-9\-_]+$/i.test(e)?(c=e.slice(1),d=l):(c=e,d=i):(c=null,d=function(t,e){return this.rootElement===window?e===document:this.rootElement===e}.bind(this)),s[t].push({selector:e,handler:o,matcher:d,matcherParam:c}),this},n.prototype.off=function(t,e,o,n){var i,r,l,a,s;if("function"==typeof e&&(n=o,o=e,e=null),void 0===n)return this.off(t,e,o,!0),this.off(t,e,o,!1),this;if(l=this.listenerMap[n?1:0],!t){for(s in l)l.hasOwnProperty(s)&&this.off(s,e,o);return this}if(!(a=l[t])||!a.length)return this;for(i=a.length-1;i>=0;i--)r=a[i],e&&e!==r.selector||o&&o!==r.handler||a.splice(i,1);return a.length||(delete l[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,n)),this},n.prototype.handle=function(t){var e,o,n,i,r,l,a=t.type,s=[];if(!0!==t.ftLabsDelegateIgnore){switch(3===(l=t.target).nodeType&&(l=l.parentNode),n=this.rootElement,t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:s=this.listenerMap[1][a];break;case 2:this.listenerMap[0]&&this.listenerMap[0][a]&&(s=s.concat(this.listenerMap[0][a])),this.listenerMap[1]&&this.listenerMap[1][a]&&(s=s.concat(this.listenerMap[1][a]));break;case 3:s=this.listenerMap[0][a]}for(o=s.length;l&&o;){for(e=0;e<o&&(i=s[e]);e++)if(i.matcher.call(l,i.matcherParam,l)&&(r=this.fire(t,l,i)),!1===r)return t.ftLabsDelegateIgnore=!0,void t.preventDefault();if(l===n)break;o=s.length,l=l.parentElement}}},n.prototype.fire=function(t,e,o){return o.handler.call(e,t,e)};var i=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);function r(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function l(t,e){return t===e.id}n.prototype.destroy=function(){this.off(),this.root()}}]);