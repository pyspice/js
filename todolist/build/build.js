!function(e){var t={};function n(o){if(t[o])return t[o].exports;var l=t[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(o,l,function(t){return e[t]}.bind(null,l));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){const n=0,o=1;e.exports={initModel:function(){void 0===localStorage.lastTodoItemIndex&&(localStorage.lastTodoItemIndex=0)},getAllItems:function*(){for(key in localStorage)"0"<=key[0]&&key[0]<="9"&&(yield[key,localStorage[key]])},clearAll:function(){localStorage.clear(),localStorage.lastTodoItemIndex=0},addItem:function(e,t){localStorage[e]=t+","+n},doneItem:function(e){let t=localStorage[e].slice(0,-1)+o;localStorage[e]=t},removeItem:function(e){delete localStorage[e]},getNewIndex:function(){return localStorage.lastTodoItemIndex++},TODO:n,DONE:o}},function(e,t,n){e.exports={addItem:function(e,t){n(0).addItem(e,t)},doneItem:function(e){n(0).doneItem(e)},removeItem:function(e){n(0).removeItem(e)},getAllItems:function*(){for(let e of n(0).getAllItems()){let t=e[0],[o,l]=e[1].split(",");yield[t,o,l=l==n(0).TODO?"todo":"done"]}},clearAll:function(){n(0).clearAll()},getNewIndex:function(){return n(0).getNewIndex()}}},function(e,t,n){n(0).initModel(),n(3).initView()},function(e,t,n){function o(e){return parseInt(e.slice(8))}function l(){let e=a.value;if(!e)return;let t=d(n(1).getNewIndex(),e,"todo");f.appendChild(t),a.value="",n(1).addItem(o(t.id),e)}function i(){f.innerHTML="",n(1).clearAll()}function r(e,t){let n=document.createElement("button");return n.id="todo"+t+e+"-id",n.className="todobtn",n.innerText=t,n}function d(e,t,l){let i=document.createElement("li");i.className="todo"==l?"todoitem":"doneitem",i.id="todoitem"+e+"-id",i.innerText=t;let d=r(e,"done"),c=r(e,"remove");return i.appendChild(d),i.appendChild(c),d.addEventListener("click",function(){!function(e){e.className="doneitem",n(1).doneItem(o(e.id))}(i)}),c.addEventListener("click",function(){!function(e){e.parentNode.removeChild(e),n(1).removeItem(o(e.id))}(i)}),i}let c,u,a,f;e.exports={initView:function(){for(it of(c=document.getElementById("todosubmit-id"),u=document.getElementById("todoclear-id"),a=document.getElementById("todoinput-id"),f=document.getElementById("todolist-id"),n(1).getAllItems())){let e=d(it[0],it[1],it[2]);f.appendChild(e)}c.addEventListener("click",l),u.addEventListener("click",i)}}}]);