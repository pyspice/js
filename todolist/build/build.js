!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=1)}([function(t,e,o){let n,i;t.exports={init:function(){(n=o(3)).init(),(i=o(4)).init()},addList:function(t,e){let o=n.getList(e);i.addList(t,e,o)},removeList:function(t){n.removeList(t)},addItem:function(t,e){n.addItem(t,e)},doneItem:function(t,e){n.doneItem(t,e)},removeItem:function(t,e){n.removeItem(t,e)},clearAllItems:function(t){n.clearAllItems(t)}}},function(t,e,o){let n=o(2);n.init();let i=window.document.querySelector("#list-node1");n.addList(i,"todolist1-id");let r=window.document.querySelector("#list-node2");n.addList(r,"todolist2-id")},function(t,e,o){let n;t.exports={init:function(){(n=o(0)).init()},addList:function(t,e){n.addList(t,e)}}},function(t,e){t.exports={init:function(){"todoLists"in window.localStorage||window.localStorage.setItem("todoLists","{}")},getList:function(t){let e=JSON.parse(window.localStorage.getItem("todoLists"));return t in e?e[t]:(e[t]=[],window.localStorage.setItem("todoLists",JSON.stringify(e)),[])},removeList:function(t){let e=JSON.parse(window.localStorage.getItem("todoLists"));delete e[t],window.localStorage.setItem("todoLists",JSON.stringify(e))},clearAllItems:function(t){let e=JSON.parse(window.localStorage.getItem("todoLists"));e[t]=[],window.localStorage.setItem("todoLists",JSON.stringify(e))},addItem:function(t,e){let o=JSON.parse(window.localStorage.getItem("todoLists"));o[t].push({text:e,type:"todo"}),window.localStorage.setItem("todoLists",JSON.stringify(o))},doneItem:function(t,e){let o=JSON.parse(window.localStorage.getItem("todoLists"));o[t][e].type="done",window.localStorage.setItem("todoLists",JSON.stringify(o))},removeItem:function(t,e){let o=JSON.parse(window.localStorage.getItem("todoLists"));o[t].splice(e,1),window.localStorage.setItem("todoLists",JSON.stringify(o))}}},function(t,e,o){let n;function i(t,e,o){let i=window.document.querySelector("#todoitem-tmpl"),r=window.document.importNode(i.content,!0).querySelector("li");r.setAttribute("itemIndex",t),r.className="todo"==o?"todoitem":"doneitem";let[l,d]=r.querySelectorAll("button"),c=window.document.createTextNode(e);return r.insertBefore(c,l),l.addEventListener("click",function(){!function(t){t.className="doneitem";let e=t.parentNode.parentNode;n.doneItem(e.id,t.getAttribute("itemIndex"))}(r)}),d.addEventListener("click",function(){!function(t){let e=t.parentNode,o=+t.getAttribute("itemIndex"),i=e.querySelectorAll("li");for(let t=o+1;t<i.length;++t)i[t].setAttribute("itemIndex",t-1);e.removeChild(t);let r=e.parentNode;n.removeItem(r.id,o)}(r)}),r}t.exports={init:function(t){n=o(0)},addList:function(t,e,o){let r=window.document.querySelector("#todolist-tmpl"),l=window.document.importNode(r.content,!0).querySelector("div");l.id=e;let d=l.querySelector("div"),c=l.querySelector("ol"),[u,s]=d.querySelectorAll("button"),a=(d.querySelector("input"),d.querySelector("div"));for(let t=0;t<o.length;++t){let e=i(t,o[t].text,o[t].type);c.appendChild(e)}t.appendChild(l),u.addEventListener("click",function(){!function(t){let e=t.querySelector("div").querySelector("input"),o=e.value;if(!o)return;let r=t.querySelector("ol"),l=i(r.querySelectorAll("li").length,o,"todo");r.appendChild(l),e.value="";let d=t.id;n.addItem(d,o)}(l)}),s.addEventListener("click",function(){!function(t){t.querySelector("ol").innerHTML="",n.clearAllItems(t.id)}(l)}),a.addEventListener("click",function(){!function(t){t.parentNode.removeChild(t),n.removeList(t.id)}(l)})}}}]);